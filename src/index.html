<!DOCTYPE HTML>
<html>

<head>
  <meta charset="UTF-8">
  <title>Main</title>
  <script src="build/main.js"></script>
</head>

<body>
  <script>
    var app = Elm.Main.init();

    app.ports.save.subscribe(function (program) {
      const storage = window.localStorage;
      if (storage) {
        storage.setItem("program", program);
      }
    });

    const storage = window.localStorage;
    if (storage) {
      const prog = storage.getItem("program");
      if (prog) {
        app.ports.load.send(prog);
      }
    }
  </script>
</body>

</html>