<!DOCTYPE HTML>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <title>Railforth Prototype</title>
  <script src="build/main.js"></script>
</head>

<body>
  <script>
    const storage = window.localStorage;
    let program = "";
    if (storage) {
      program = storage.getItem("program") ?? "";
    }

    var app = Elm.Main.init({
      flags: {
        program: program
      }
    });

    app.ports.save.subscribe(function (program) {
      const storage = window.localStorage;
      if (storage) {
        storage.setItem("program", program);
      }
    });
  </script>
</body>

</html>